<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IPL Match Predictor | AI-Powered Cricket Insights</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap");

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: #f8fafc;
        color: #333;
        line-height: 1.6;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
        color: white;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .logo i {
        font-size: 24px;
      }

      .logo h1 {
        font-size: 24px;
        font-weight: 700;
      }

      .header-buttons {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .header-btn {
        padding: 10px 16px;
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .header-btn.white {
        background-color: white;
        color: #1e40af;
      }

      .header-btn.white:hover {
        background-color: #f1f5f9;
      }

      .header-btn.yellow {
        background-color: #facc15;
        color: #1e40af;
      }

      .header-btn.yellow:hover {
        background-color: #fde047;
      }

      /* Main Content Styles */
      main {
        padding: 30px 0;
      }

      .section {
        margin-bottom: 40px;
      }

      .card {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        padding: 24px;
      }

      .card h2 {
        font-size: 24px;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 24px;
      }

      /* Match Selection Grid */
      .match-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 24px;
      }

      @media (min-width: 768px) {
        .match-grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      .team-select {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .team-select label {
        font-weight: 500;
        color: #374151;
      }

      select {
        width: 100%;
        padding: 12px 16px;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s ease;
      }

      select:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
      }

      .squad {
        display: none;
        margin-top: 16px;
      }

      .squad h3 {
        font-weight: 500;
        color: #374151;
        margin-bottom: 8px;
      }

      .players-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
      }

      .player-card {
        background-color: #f9fafb;
        padding: 8px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
      }

      .player-card:hover {
        transform: scale(1.03);
      }

      .player-avatar {
        width: 32px;
        height: 32px;
        background-color: #dbeafe;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 8px;
      }

      .player-avatar i {
        color: #1d4ed8;
        font-size: 14px;
      }

      .player-name {
        font-size: 14px;
      }

      /* Match Info Center */
      .match-center {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 16px;
      }

      .venue-select {
        text-align: center;
      }

      .venue-select .label {
        color: #6b7280;
        font-size: 14px;
      }

      .toss-buttons {
        display: flex;
        gap: 16px;
        margin-top: 8px;
      }

      .toss-btn {
        padding: 8px 16px;
        background-color: #e5e7eb;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
      }

      .toss-btn.active {
        background-color: #3b82f6;
        color: white;
      }

      /* Predict Button */
      .predict-btn {
        width: 100%;
        padding: 12px;
        background-color: #2563eb;
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: 700;
        font-size: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .predict-btn:hover {
        background-color: #1d4ed8;
      }

      /* Prediction Results */
      .prediction-card {
        background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
        border-radius: 12px;
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.05);
        padding: 32px;
      }

      .prediction-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
      }

      .prediction-header h2 {
        font-size: 24px;
        font-weight: 700;
        color: #1e293b;
      }

      .prediction-actions {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .prediction-actions span {
        font-size: 14px;
        color: #6b7280;
      }

      .prediction-actions button {
        padding: 8px;
        color: #2563eb;
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .prediction-actions button:hover {
        background-color: #dbeafe;
      }

      /* Teams Prediction Grid */
      .teams-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 32px;
      }

      @media (min-width: 768px) {
        .teams-grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      .team-card {
        background-color: white;
        padding: 24px;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border-left: 4px solid #3b82f6;
      }

      .team-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
      }

      .team-card.orange {
        border-left-color: #f97316;
      }

      .team-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .team-info {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .team-icon {
        width: 40px;
        height: 40px;
        background-color: #dbeafe;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .team-icon.orange {
        background-color: #ffedd5;
      }

      .team-icon i {
        color: #3b82f6;
      }

      .team-icon.orange i {
        color: #f97316;
      }

      .team-name {
        font-size: 18px;
        font-weight: 700;
      }

      .team-percent {
        font-size: 24px;
        font-weight: 700;
        color: #3b82f6;
      }

      .team-percent.orange {
        color: #f97316;
      }

      .progress-bar {
        height: 8px;
        border-radius: 4px;
        background-color: #e5e7eb;
        overflow: hidden;
        margin-bottom: 16px;
      }

      .progress-fill {
        height: 100%;
        border-radius: 4px;
        background-color: #3b82f6;
        transition: width 0.5s ease;
      }

      .progress-fill.orange {
        background-color: #f97316;
      }

      .team-stats {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .stat-row {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
      }

      .stat-label {
        color: #6b7280;
      }

      .stat-value {
        font-weight: 500;
      }

      /* Match Center Prediction */
      .match-prediction {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 24px;
      }

      .winner-prediction {
        text-align: center;
      }

      .winner-label {
        color: #6b7280;
        font-size: 14px;
        margin-bottom: 4px;
      }

      .winner-name {
        font-size: 24px;
        font-weight: 700;
        color: #3b82f6;
        margin-bottom: 4px;
      }

      .winner-confidence {
        font-size: 14px;
        color: #6b7280;
      }

      .venue-advantage {
        text-align: center;
      }

      .venue-label {
        color: #6b7280;
        font-size: 14px;
        margin-bottom: 4px;
      }

      .venue-value {
        font-size: 18px;
        font-weight: 500;
      }

      .weather-impact {
        text-align: center;
      }

      .weather-label {
        color: #6b7280;
        font-size: 14px;
        margin-bottom: 4px;
      }

      .weather-content {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .weather-icon {
        font-size: 40px;
        color: #facc15;
        margin-bottom: 4px;
      }

      .weather-desc {
        font-weight: 500;
      }

      .weather-detail {
        font-size: 14px;
        color: #6b7280;
      }

      /* Key Factors */
      .key-factors {
        margin-top: 40px;
      }

      .key-factors h3 {
        font-size: 20px;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 16px;
      }

      .factors-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
      }

      @media (min-width: 768px) {
        .factors-grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }

      .factor-card {
        padding: 16px;
        border-radius: 8px;
      }

      .factor-card.blue {
        background-color: #eff6ff;
      }

      .factor-card.purple {
        background-color: #f5f3ff;
      }

      .factor-card.green {
        background-color: #f0fdf4;
      }

      .factor-header {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
      }

      .factor-icon {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 12px;
      }

      .factor-icon.blue {
        background-color: #bfdbfe;
      }

      .factor-icon.purple {
        background-color: #ddd6fe;
      }

      .factor-icon.green {
        background-color: #bbf7d0;
      }

      .factor-icon i {
        color: #3b82f6;
      }

      .factor-icon.purple i {
        color: #8b5cf6;
      }

      .factor-icon.green i {
        color: #22c55e;
      }

      .factor-title {
        font-weight: 700;
      }

      .factor-desc {
        font-size: 14px;
        color: #6b7280;
      }

      /* Performance Charts */
      .performance-charts {
        margin-top: 40px;
      }

      .performance-charts h3 {
        font-size: 20px;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 24px;
      }

      .charts-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 24px;
      }

      @media (min-width: 768px) {
        .charts-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      .chart-container {
        background-color: white;
        padding: 16px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .chart-container h4 {
        font-weight: 500;
        color: #374151;
        margin-bottom: 16px;
      }

      /* Historical Data */
      .historical-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 16px;
      }

      .historical-table thead tr {
        background-color: #f9fafb;
      }

      .historical-table th {
        padding: 12px 24px;
        text-align: left;
        font-size: 12px;
        font-weight: 500;
        color: #6b7280;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .historical-table td {
        padding: 12px 24px;
        font-size: 14px;
        color: #6b7280;
      }

      .historical-table tbody tr {
        border-bottom: 1px solid #e5e7eb;
      }

      .historical-table tbody tr:last-child {
        border-bottom: none;
      }

      .historical-table tbody tr td:first-child {
        font-weight: 500;
        color: #111827;
      }

      /* Footer */
      footer {
        background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
        color: white;
        padding: 32px 0;
      }

      .footer-content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      @media (min-width: 768px) {
        .footer-content {
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
        }
      }

      .footer-info {
        margin-bottom: 24px;
        text-align: center;
      }

      @media (min-width: 768px) {
        .footer-info {
          margin-bottom: 0;
          text-align: left;
        }
      }

      .footer-logo {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 8px;
      }

      .footer-logo i {
        font-size: 20px;
      }

      .footer-desc {
        font-size: 14px;
        opacity: 0.8;
      }

      .footer-social {
        display: flex;
        gap: 24px;
      }

      .footer-social a {
        color: white;
        font-size: 20px;
        transition: all 0.3s ease;
      }

      .footer-social a:hover {
        color: #facc15;
      }

      .footer-divider {
        border-top: 1px solid rgba(147, 197, 253, 0.5);
        margin-top: 24px;
        padding-top: 24px;
        text-align: center;
      }

      .footer-disclaimer {
        font-size: 14px;
        opacity: 0.7;
      }

      .footer-disclaimer p:first-child {
        margin-bottom: 8px;
      }

      /* Utility Classes */
      .hidden {
        display: none;
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Loading Spinner */
      .spinner {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header>
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <i class="fas fa-cricket"></i>
            <h1>IPL Match Predictor</h1>
          </div>
          <div class="header-buttons">
            <button class="header-btn white">
              <i class="fas fa-history"></i>
              Match History
            </button>
            <button class="header-btn yellow">
              <i class="fas fa-chart-line"></i>
              Team Stats
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main>
      <div class="container">
        <!-- Match Selection Section -->
        <section class="section">
          <div class="card">
            <h2>Select Teams & Match Details</h2>

            <div class="match-grid">
              <!-- Team 1 Selection -->
              <div class="team-select">
                <label for="team1">Team 1</label>
                <select id="team1">
                  <option value="">Select Team</option>
                  <option value="Mumbai Indians">Mumbai Indians</option>
                  <option value="Chennai Super Kings">
                    Chennai Super Kings
                  </option>
                  <option value="Royal Challengers Bangalore">
                    Royal Challengers Bangalore
                  </option>
                  <option value="Kolkata Knight Riders">
                    Kolkata Knight Riders
                  </option>
                  <option value="Delhi Capitals">Delhi Capitals</option>
                  <option value="Punjab Kings">Punjab Kings</option>
                  <option value="Rajasthan Royals">Rajasthan Royals</option>
                  <option value="Sunrisers Hyderabad">
                    Sunrisers Hyderabad
                  </option>
                </select>

                <div id="team1-squad" class="squad">
                  <h3>Key Players</h3>
                  <div class="players-grid">
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">Rohit Sharma</span>
                    </div>
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">Jasprit Bumrah</span>
                    </div>
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">Suryakumar Yadav</span>
                    </div>
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">Kieron Pollard</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Match Info -->
              <div class="match-center">
                <div class="venue-select">
                  <div class="label">Venue</div>
                  <select id="venue">
                    <option value="Wankhede Stadium">Wankhede Stadium</option>
                    <option value="MA Chidambaram Stadium, Chepauk">
                      MA Chidambaram Stadium
                    </option>
                    <option value="Eden Gardens">Eden Gardens</option>
                    <option value="M Chinnaswamy Stadium">
                      M Chinnaswamy Stadium
                    </option>
                    <option value="Dubai International Stadium">
                      Dubai International
                    </option>
                  </select>
                </div>

                <div>
                  <div class="label">Toss</div>
                  <div class="toss-buttons">
                    <button id="toss-team1" class="toss-btn">Team 1</button>
                    <button id="toss-team2" class="toss-btn">Team 2</button>
                  </div>
                </div>
              </div>

              <!-- Team 2 Selection -->
              <div class="team-select">
                <label for="team2">Team 2</label>
                <select id="team2">
                  <option value="">Select Team</option>
                  <option value="Mumbai Indians">Mumbai Indians</option>
                  <option value="Chennai Super Kings">
                    Chennai Super Kings
                  </option>
                  <option value="Royal Challengers Bangalore">
                    Royal Challengers Bangalore
                  </option>
                  <option value="Kolkata Knight Riders">
                    Kolkata Knight Riders
                  </option>
                  <option value="Delhi Capitals">Delhi Capitals</option>
                  <option value="Punjab Kings">Punjab Kings</option>
                  <option value="Rajasthan Royals">Rajasthan Royals</option>
                  <option value="Sunrisers Hyderabad">
                    Sunrisers Hyderabad
                  </option>
                </select>

                <div id="team2-squad" class="squad">
                  <h3>Key Players</h3>
                  <div class="players-grid">
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">MS Dhoni</span>
                    </div>
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">Ravindra Jadeja</span>
                    </div>
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">Ruturaj Gaikwad</span>
                    </div>
                    <div class="player-card">
                      <div class="player-avatar">
                        <i class="fas fa-user"></i>
                      </div>
                      <span class="player-name">Deepak Chahar</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div style="margin-top: 32px">
              <button id="predict-btn" class="predict-btn">
                <i class="fas fa-bolt"></i>
                Predict Match Outcome
              </button>
            </div>
          </div>
        </section>

        <!-- Prediction Results Section (Initially Hidden) -->
        <section id="prediction-results" class="section hidden fade-in">
          <div class="prediction-card">
            <div class="prediction-header">
              <h2>Match Prediction</h2>
              <div class="prediction-actions">
                <span
                  >Last updated: <span id="update-time">Just now</span></span
                >
                <button>
                  <i class="fas fa-sync-alt"></i>
                </button>
              </div>
            </div>

            <div class="teams-grid">
              <!-- Team 1 Prediction -->
              <div class="team-card">
                <div class="team-header">
                  <div class="team-info">
                    <div class="team-icon">
                      <i class="fas fa-users"></i>
                    </div>
                    <h3 id="pred-team1-name" class="team-name">
                      Mumbai Indians
                    </h3>
                  </div>
                  <span id="pred-team1-percent" class="team-percent">62%</span>
                </div>

                <div class="progress-bar">
                  <div
                    id="team1-progress"
                    class="progress-fill"
                    style="width: 62%"
                  ></div>
                </div>

                <div class="team-stats">
                  <div class="stat-row">
                    <span class="stat-label">Batting Strength</span>
                    <span class="stat-value">8.7/10</span>
                  </div>
                  <div class="stat-row">
                    <span class="stat-label">Bowling Strength</span>
                    <span class="stat-value">7.9/10</span>
                  </div>
                  <div class="stat-row">
                    <span class="stat-label">Recent Form</span>
                    <span class="stat-value">W W L W</span>
                  </div>
                </div>
              </div>

              <!-- Match Details -->
              <div class="match-prediction">
                <div class="winner-prediction">
                  <div class="winner-label">Predicted Winner</div>
                  <div id="winner-name" class="winner-name">Mumbai Indians</div>
                  <div class="winner-confidence">with 62% confidence</div>
                </div>

                <div class="venue-advantage">
                  <div class="venue-label">Venue Advantage</div>
                  <div class="venue-value">
                    +12% for <span id="venue-advantage">MI</span>
                  </div>
                </div>

                <div class="weather-impact">
                  <div class="weather-label">Weather Impact</div>
                  <div class="weather-content">
                    <i class="fas fa-sun weather-icon"></i>
                    <div>
                      <div class="weather-desc">Clear Sky</div>
                      <div class="weather-detail">Minimal impact</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Team 2 Prediction -->
              <div class="team-card orange">
                <div class="team-header">
                  <div class="team-info">
                    <div class="team-icon orange">
                      <i class="fas fa-users"></i>
                    </div>
                    <h3 id="pred-team2-name" class="team-name">
                      Chennai Super Kings
                    </h3>
                  </div>
                  <span id="pred-team2-percent" class="team-percent orange"
                    >38%</span
                  >
                </div>

                <div class="progress-bar">
                  <div
                    id="team2-progress"
                    class="progress-fill orange"
                    style="width: 38%"
                  ></div>
                </div>

                <div class="team-stats">
                  <div class="stat-row">
                    <span class="stat-label">Batting Strength</span>
                    <span class="stat-value">7.2/10</span>
                  </div>
                  <div class="stat-row">
                    <span class="stat-label">Bowling Strength</span>
                    <span class="stat-value">8.1/10</span>
                  </div>
                  <div class="stat-row">
                    <span class="stat-label">Recent Form</span>
                    <span class="stat-value">W L W L</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Key Factors -->
            <div class="key-factors">
              <h3>Key Prediction Factors</h3>
              <div class="factors-grid">
                <div class="factor-card blue">
                  <div class="factor-header">
                    <div class="factor-icon blue">
                      <i class="fas fa-bullseye"></i>
                    </div>
                    <h4 class="factor-title">Death Bowling</h4>
                  </div>
                  <p class="factor-desc">
                    MI has 23% better economy rate in last 5 overs compared to
                    CSK
                  </p>
                </div>
                <div class="factor-card purple">
                  <div class="factor-header">
                    <div class="factor-icon purple">
                      <i class="fas fa-home"></i>
                    </div>
                    <h4 class="factor-title">Venue History</h4>
                  </div>
                  <p class="factor-desc">
                    MI has won 68% of matches at this venue since 2018
                  </p>
                </div>
                <div class="factor-card green">
                  <div class="factor-header">
                    <div class="factor-icon green">
                      <i class="fas fa-user-tie"></i>
                    </div>
                    <h4 class="factor-title">Captaincy Impact</h4>
                  </div>
                  <p class="factor-desc">
                    Rohit Sharma has 15% better win rate against CSK
                  </p>
                </div>
              </div>
            </div>

            <!-- Performance Charts -->
            <div class="performance-charts">
              <h3>Team Performance Analysis</h3>
              <div class="charts-grid">
                <div class="chart-container">
                  <h4>Batting Comparison</h4>
                  <canvas id="battingChart" height="200"></canvas>
                </div>
                <div class="chart-container">
                  <h4>Bowling Comparison</h4>
                  <canvas id="bowlingChart" height="200"></canvas>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Historical Data Section -->
        <section class="section">
          <div class="card">
            <h2>Head-to-Head Statistics</h2>

            <div style="overflow-x: auto">
              <table class="historical-table">
                <thead>
                  <tr>
                    <th>Season</th>
                    <th>Venue</th>
                    <th>Toss Winner</th>
                    <th>Match Winner</th>
                    <th>Margin</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>2022</td>
                    <td>Wankhede Stadium</td>
                    <td>Mumbai Indians</td>
                    <td>Mumbai Indians</td>
                    <td>5 wickets</td>
                  </tr>
                  <tr>
                    <td>2021</td>
                    <td>Dubai International Stadium</td>
                    <td>Chennai Super Kings</td>
                    <td>Chennai Super Kings</td>
                    <td>20 runs</td>
                  </tr>
                  <tr>
                    <td>2020</td>
                    <td>Sharjah Cricket Stadium</td>
                    <td>Mumbai Indians</td>
                    <td>Mumbai Indians</td>
                    <td>10 wickets</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-info">
            <div class="footer-logo">
              <i class="fas fa-cricket"></i>
              <span>IPL Match Predictor</span>
            </div>
            <p class="footer-desc">
              Powered by historical data and machine learning
            </p>
          </div>

          <div class="footer-social">
            <a href="#"><i class="fab fa-github"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>

        <div class="footer-divider">
          <div class="footer-disclaimer">
            <p>
              © 2023 IPL Match Predictor. All data is based on historical IPL
              matches from 2008-2022.
            </p>
            <p>Disclaimer: Predictions are for entertainment purposes only.</p>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Team selection logic
      document.getElementById("team1").addEventListener("change", function () {
        const team1 = this.value;
        if (team1) {
          document.getElementById("team1-squad").classList.remove("hidden");
          document.getElementById("pred-team1-name").textContent = team1;
        } else {
          document.getElementById("team1-squad").classList.add("hidden");
        }

        // Ensure team2 is different
        const team2Select = document.getElementById("team2");
        if (team2Select.value === team1) {
          team2Select.value = "";
          document.getElementById("team2-squad").classList.add("hidden");
        }
      });

      document.getElementById("team2").addEventListener("change", function () {
        const team2 = this.value;
        if (team2) {
          document.getElementById("team2-squad").classList.remove("hidden");
          document.getElementById("pred-team2-name").textContent = team2;
        } else {
          document.getElementById("team2-squad").classList.add("hidden");
        }

        // Ensure team1 is different
        const team1Select = document.getElementById("team1");
        if (team1Select.value === team2) {
          team1Select.value = "";
          document.getElementById("team1-squad").classList.add("hidden");
        }
      });

      // Toss selection
      document
        .getElementById("toss-team1")
        .addEventListener("click", function () {
          this.classList.add("active");
          document.getElementById("toss-team2").classList.remove("active");
        });

      document
        .getElementById("toss-team2")
        .addEventListener("click", function () {
          this.classList.add("active");
          document.getElementById("toss-team1").classList.remove("active");
        });

      // Prediction button - will call the Python backend
      document
        .getElementById("predict-btn")
        .addEventListener("click", async function () {
          const team1 = document.getElementById("team1").value;
          const team2 = document.getElementById("team2").value;
          const venue = document.getElementById("venue").value;

          // Check which team won the toss
          let tossWinner = null;
          if (
            document.getElementById("toss-team1").classList.contains("active")
          ) {
            tossWinner = team1;
          } else if (
            document.getElementById("toss-team2").classList.contains("active")
          ) {
            tossWinner = team2;
          }

          if (!team1 || !team2) {
            alert("Please select both teams to predict");
            return;
          }

          if (!tossWinner) {
            alert("Please select toss winner");
            return;
          }

          // Show loading state
          const predictBtn = this;
          predictBtn.innerHTML =
            '<div class="spinner"></div> Analyzing Data...';
          predictBtn.disabled = true;

          try {
            // Call the prediction API
            const response = await fetch("/predict", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                team1: team1,
                team2: team2,
                venue: venue,
                toss_winner: tossWinner,
              }),
            });

            if (!response.ok) {
              throw new Error("Prediction failed");
            }

            const prediction = await response.json();

            // Update UI with prediction results
            updatePredictionUI(prediction);

            // Show results section
            document
              .getElementById("prediction-results")
              .classList.remove("hidden");
          } catch (error) {
            console.error("Prediction error:", error);
            alert("Error making prediction. Please try again.");
          } finally {
            // Reset button state
            predictBtn.innerHTML =
              '<i class="fas fa-bolt"></i> Predict Match Outcome';
            predictBtn.disabled = false;
          }
        });

      function updatePredictionUI(prediction) {
        // Update team names and percentages
        document.getElementById("pred-team1-name").textContent =
          prediction.team1;
        document.getElementById("pred-team2-name").textContent =
          prediction.team2;

        document.getElementById("pred-team1-percent").textContent =
          prediction.team1_win_probability + "%";
        document.getElementById("pred-team2-percent").textContent =
          prediction.team2_win_probability + "%";

        // Update progress bars
        document.getElementById("team1-progress").style.width =
          prediction.team1_win_probability + "%";
        document.getElementById("team2-progress").style.width =
          prediction.team2_win_probability + "%";

        // Update winner
        const winnerName =
          prediction.team1_win_probability > prediction.team2_win_probability
            ? prediction.team1
            : prediction.team2;
        const winnerProb = Math.max(
          prediction.team1_win_probability,
          prediction.team2_win_probability
        );

        document.getElementById("winner-name").textContent = winnerName;
        document.getElementById("winner-confidence").textContent =
          "with " + winnerProb + "% confidence";

        // Update venue advantage
        document.getElementById("venue-advantage").textContent =
          prediction.venue_advantage_team;

        // Update stats
        document.querySelector(
          "#team1-stats .stat-value:nth-child(1)"
        ).textContent = prediction.team1_batting_strength;
        document.querySelector(
          "#team1-stats .stat-value:nth-child(2)"
        ).textContent = prediction.team1_bowling_strength;
        document.querySelector(
          "#team1-stats .stat-value:nth-child(3)"
        ).textContent = prediction.team1_recent_form;

        document.querySelector(
          "#team2-stats .stat-value:nth-child(1)"
        ).textContent = prediction.team2_batting_strength;
        document.querySelector(
          "#team2-stats .stat-value:nth-child(2)"
        ).textContent = prediction.team2_bowling_strength;
        document.querySelector(
          "#team2-stats .stat-value:nth-child(3)"
        ).textContent = prediction.team2_recent_form;

        // Update key factors
        document.querySelector(".factor-card.blue .factor-desc").textContent =
          prediction.key_factor1;
        document.querySelector(".factor-card.purple .factor-desc").textContent =
          prediction.key_factor2;
        document.querySelector(".factor-card.green .factor-desc").textContent =
          prediction.key_factor3;

        // Update time
        const now = new Date();
        document.getElementById("update-time").textContent =
          now.toLocaleTimeString();

        // Initialize charts if they exist
        if (typeof initCharts === "function") {
          initCharts(prediction.team1, prediction.team2);
        }
      }
    </script>
  </body>
</html>
